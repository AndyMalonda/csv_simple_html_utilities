<!DOCTYPE html> <html lang="en"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>CSV Parser</title> <style> .btn,.text-center{text-align:center}#csvText,.table{width:100%}body{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f8f9fa;display:flex;flex-direction:column;align-items:center}.container{max-width:90%;margin:20px auto;padding:20px;background-color:#fff;border-radius:5px;box-shadow:0 0 10px rgba(0,0,0,.1);display:flex;flex-direction:column;align-items:center}.btn,.form-check-input{margin-right:10px}.form-group{margin-bottom:15px;width:100%}.form-control{padding:6px;margin-top:5px;margin-bottom:10px;border:1px solid #ced4da;border-radius:4px}.form-check{margin-bottom:10px;display:flex;align-items:center}.btn{display:inline-block;padding:10px 20px;font-size:16px;font-weight:700;text-decoration:none;color:#fff;background-color:#007bff;border:none;border-radius:4px;cursor:pointer}.table td,.table th,.table-bordered{border:1px solid #dee2e6}.btn-secondary{background-color:#6c757d}.btn-success{background-color:#28a745}.btn:hover{opacity:.8}.mt-2{margin-top:10px}.mt-3{margin-top:15px}.mt-5{margin-top:30px}.table{border-collapse:collapse;margin-top:20px}.table td,.table th{padding:10px}.table th{background-color:#f1f1f1}.flex-row{display:flex;justify-content:space-between;align-items:center}.flex-row .form-group{flex:1;margin-right:10px}.flex-row .form-group:last-child{margin-right:0} </style> </head> <body> <div class=container><h1 class=text-center>Simple CSV Formatter</h1><form id=csvForm><div class=flex-row><div class=form-group><label for=separator>Separator</label><select class=form-control id=separator><option value=;>;<option value=,>,<option value=\t>Tab<option value=" ">Space</select></div><div class=form-group><label for=customSeparator>Custom Separator</label><input id=customSeparator class=form-control placeholder="Enter custom separator"></div></div><div class=flex-row><div class=form-group><label for=headerRow>Header Row</label><input id=headerRow type=checkbox checked></div><div class=form-group><label for=escapeChar>Escape Character</label><input id=escapeChar class=form-control value=\\></div><div class=form-group><label for=quoteChar>Quote Character</label><input id=quoteChar class=form-control value='"'></div></div><div class=form-group><label for=csvFile>Upload CSV File</label><input id=csvFile class=form-control type=file accept=.csv><textarea class="form-control mt-2"id=csvText placeholder="Or paste CSV text here"rows=10></textarea><div class=mt-3><label>Output Format</label><hr><div class=form-check><input id=formatCSV class=form-check-input value=csv name=outputFormat type=radio checked><label for=formatCSV class=form-check-label>CSV (table view)</label></div><div class=form-check><input id=formatJSON class=form-check-input value=json name=outputFormat type=radio><label for=formatJSON class=form-check-label>JSON</label></div><div class=form-check><input id=formatXML class=form-check-input value=xml name=outputFormat type=radio><label for=formatXML class=form-check-label>XML</label></div><div class=form-check><input id=formatMarkdown class=form-check-input value=markdown name=outputFormat type=radio><label for=formatMarkdown class=form-check-label>Markdown</label></div></div></div><div class=mt-3><button class="btn btn-primary"type=submit>Format</button><button class="btn btn-secondary"type=button id=clearButton>Clear</button><button class="btn btn-secondary"type=button id=copyButton>Copy</button><button class="btn btn-success"type=button id=downloadButton>Download</button></div></form></div><div class="container mt-5"><div id=outputContainer></div></div> <script> let inputFileName="";function handleFormSubmit(e){e.preventDefault();let t=document.getElementById("csvText").value,n=document.getElementById("separator").value,a=document.getElementById("customSeparator").value,l=document.getElementById("headerRow").checked,o=document.getElementById("quoteChar").value,r=document.getElementById("escapeChar").value,i=document.querySelector('input[name="outputFormat"]:checked').value;if(a&&(n=a),""===t.trim()){alert("Please provide CSV text or upload a file.");return}let d=parseCSV(t,n,o,r);switch(i){case"json":let u=formatCSVToJSON(d,l);displayJSON(u);break;case"xml":let c=formatCSVToXML(d,l);displayXML(c);break;case"markdown":let m=formatCSVToMarkdown(d,l);displayMarkdown(m);break;default:let p=formatCSVToHTMLTable(d);insertHTMLTable(p)}}function handleFileUpload(e){let t=e.target.files[0];if(t){inputFileName=t.name.split(".").slice(0,-1).join(".");let n=new FileReader;n.onload=e=>{document.getElementById("csvText").value=e.target.result},n.readAsText(t)}}function clearForm(){document.getElementById("csvText").value="",document.getElementById("outputContainer").innerHTML="",inputFileName=""}function copyContent(){let e=document.getElementById("outputContainer"),t=e.textContent;t&&navigator.clipboard.writeText(t).then(()=>{alert("Content copied to clipboard.")}).catch(e=>{alert("Failed to copy content to clipboard.")})}function downloadFormattedOutput(){let e=document.getElementById("csvText").value,t=document.getElementById("separator").value,n=document.getElementById("customSeparator").value,a=document.getElementById("headerRow").checked,l=document.getElementById("quoteChar").value,o=document.getElementById("escapeChar").value,r=document.querySelector('input[name="outputFormat"]:checked').value;if(""===e.trim()){alert("Please provide CSV text to download.");return}n&&(t=n);let i=parseCSV(e,t,l,o),d=inputFileName?`${inputFileName}_formatted`:"formatted";function u(e,t,n){let a=new Blob([e],{type:n}),l=URL.createObjectURL(a),o=document.createElement("a");o.href=l,o.download=t,o.click(),URL.revokeObjectURL(l)}switch(r){case"json":let c=formatCSVToJSON(i,a),m=JSON.stringify(c,null,2);u(m,`${d}.json`,"application/json");break;case"xml":let p=formatCSVToXML(i,a);u(p,`${d}.xml`,"application/xml");break;case"markdown":let s=formatCSVToMarkdown(i,a);u(s,`${d}.md`,"text/markdown");break;default:u(e,`${d}.csv`,"text/csv")}}function formatCSVToHTMLTable(e){let t='<table class="table table-bordered">';return e.forEach(e=>{t+="<tr>",e.forEach(e=>{t+=`<td>${e}</td>`}),t+="</tr>"}),t+="</table>"}function insertHTMLTable(e){let t=document.getElementById("outputContainer");t.innerHTML=e}function formatCSVToJSON(e,t){let n=[],a=[];return t?(a=e[0],e.shift()):a=e[0].map((e,t)=>`column${t+1}`),e.forEach(e=>{let t={};e.forEach((e,n)=>{t[a[n]]=e}),n.push(t)}),n}function displayJSON(e){let t=JSON.stringify(e,null,2),n=document.createElement("pre");n.textContent=t;let a=document.getElementById("outputContainer");a.innerHTML="",a.appendChild(n)}function formatCSVToXML(e,t){let n='<?xml version="1.0" encoding="UTF-8"?>\n<rows>\n',a=[];return t?(a=e[0],e.shift()):a=e[0].map((e,t)=>`column${t+1}`),e.forEach(e=>{n+="  <row>\n",e.forEach((e,t)=>{n+=`    <${a[t]}>${e}</${a[t]}>\n`}),n+="  </row>\n"}),n+="</rows>"}function displayXML(e){let t=document.createElement("pre");t.textContent=e;let n=document.getElementById("outputContainer");n.innerHTML="",n.appendChild(t)}function formatCSVToMarkdown(e,t){let n="",a=[];return t&&(a=e[0],e.shift()),a.forEach(e=>{n+=`| ${e} `}),n+="|\n",a.forEach(e=>{n+="| --- "}),n+="|\n",e.forEach(e=>{e.forEach(e=>{n+=`| ${e} `}),n+="|\n"}),n}function displayMarkdown(e){let t=document.createElement("pre");t.textContent=e;let n=document.getElementById("outputContainer");n.innerHTML="",n.appendChild(t)}function parseCSV(e,t,n,a){let l=[];if(e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),e.includes(a)){let t=new RegExp(`(?<=${a}|^)(?:"[^"]*(?:"")*[^"]*"|[^${a}\n]*)(?=${a}|$)|(?<=^|${n})[^${n}\n]*?(?=${n}|$)`,`g`);l=e.match(t).map(e=>e.replace(new RegExp(`^${a}|${a}$`,"g"),"").replace(/""/g,'"'))}else l=e.split("\n").map(e=>e.split(t));return l}document.getElementById("csvForm").addEventListener("submit",handleFormSubmit),document.getElementById("csvFile").addEventListener("change",handleFileUpload),document.getElementById("clearButton").addEventListener("click",clearForm),document.getElementById("copyButton").addEventListener("click",copyContent),document.getElementById("downloadButton").addEventListener("click",downloadFormattedOutput); </script>